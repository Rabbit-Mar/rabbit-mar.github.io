<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Kafka官网翻译——起步 | Marveal Rabbit - Coder&#39;s Blog</title>
  <meta name="description" content="Kafka官网翻译，对应版本为2.7.x，网址：https:&#x2F;&#x2F;kafka.apache.org&#x2F;27&#x2F;documentation.html#gettingStarted">
<meta property="og:type" content="article">
<meta property="og:title" content="Kafka官网翻译——起步">
<meta property="og:url" content="https://rabbit-mar.github.io/2021/02/19/Kafka%E5%AE%98%E7%BD%91%E7%BF%BB%E8%AF%91%E2%80%94%E2%80%94%E8%B5%B7%E6%AD%A5/index.html">
<meta property="og:site_name" content="Marveal Rabbit">
<meta property="og:description" content="Kafka官网翻译，对应版本为2.7.x，网址：https:&#x2F;&#x2F;kafka.apache.org&#x2F;27&#x2F;documentation.html#gettingStarted">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://picsum.photos/1080/400">
<meta property="article:published_time" content="2021-02-19T03:18:08.000Z">
<meta property="article:modified_time" content="2021-02-19T09:02:57.360Z">
<meta property="article:author" content="Marveal Rabbit">
<meta property="article:tag" content="Kafka">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://picsum.photos/1080/400">
  <!-- Canonical links -->
  <link rel="canonical" href="https://rabbit-mar.github.io/2021/02/19/Kafka%E5%AE%98%E7%BD%91%E7%BF%BB%E8%AF%91%E2%80%94%E2%80%94%E8%B5%B7%E6%AD%A5/index.html">
  
    <link rel="alternate" href="/atom.xml" title="Marveal Rabbit" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitment@0.0.3/style/default.min.css">
  
  
<meta name="generator" content="Hexo 5.3.0"></head>


<body class="main-center" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/Rabbit-Mar" target="_blank">
          <img class="img-circle" src="/images/avatar.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">Marveal Rabbit</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">Programming Lover &amp; Coder</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Hangzhou, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">标签</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">关于</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/Rabbit-Mar" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="https://gitee.com/marveal_admin" target="_blank" title="Gitee" data-toggle=tooltip data-placement=top><i class="icon icon-gitee"></i></a></li>
        
        <li><a href="https://blog.csdn.net/weixin_43260474" target="_blank" title="Code" data-toggle=tooltip data-placement=top><i class="icon icon-code"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>欢迎来到Marveal Rabbit的个人博客网站</p> <br> <p>2021-02-19 从<a target="_blank" rel="noopener" href='http://marvr.top'>http://marvr.top</a>迁移至此</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">标签</h3>
    <div class="widget-body">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ElasticSearch/" rel="tag">ElasticSearch</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gradle/" rel="tag">Gradle</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/" rel="tag">JVM</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a><span class="tag-list-count">18</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kafka/" rel="tag">Kafka</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LeetCode/" rel="tag">LeetCode</a><span class="tag-list-count">33</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/" rel="tag">Nginx</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RabbitMQ/" rel="tag">RabbitMQ</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/" rel="tag">SpringBoot</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mycat/" rel="tag">mycat</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sharding-jdbc/" rel="tag">sharding-jdbc</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/" rel="tag">文件系统</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">归档</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a><span class="archive-list-count">34</span></li></ul>
    </div>
  </div>


    
      
<div class="widget">
  <h3 class="widget-title">最新文章</h3>
  <div class="widget-body">
    <ul class="recent-post-list list-unstyled no-thumbnail">
      
      <li>
        
        <div class="item-inner">
          <p class="item-title">
            <a href="/2021/02/24/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E2%80%94%E2%80%94%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"
              class="title">设计模式——单例模式</a>
          </p>
          <p class="item-date">
            <time datetime="2021-02-24T08:17:16.000Z" itemprop="datePublished">2021-02-24</time>
          </p>
        </div>
      </li>
      
      <li>
        
        <div class="item-inner">
          <p class="item-title">
            <a href="/2021/02/20/Kafka%E5%AE%98%E7%BD%91%E7%BF%BB%E8%AF%91%E2%80%94%E2%80%94API/"
              class="title">Kafka官网翻译——API</a>
          </p>
          <p class="item-date">
            <time datetime="2021-02-20T06:06:43.000Z" itemprop="datePublished">2021-02-20</time>
          </p>
        </div>
      </li>
      
      <li>
        
        <div class="item-inner">
          <p class="item-title">
            <a href="/2021/02/19/Kafka%E5%AE%98%E7%BD%91%E7%BF%BB%E8%AF%91%E2%80%94%E2%80%94%E8%B5%B7%E6%AD%A5/"
              class="title">Kafka官网翻译——起步</a>
          </p>
          <p class="item-date">
            <time datetime="2021-02-19T03:18:08.000Z" itemprop="datePublished">2021-02-19</time>
          </p>
        </div>
      </li>
      
      <li>
        
        <div class="item-inner">
          <p class="item-title">
            <a href="/2020/12/23/%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8%E4%B9%8Bsharding-jdbc&mycat/"
              class="title">分库分表之sharding-jdbc&amp;mycat</a>
          </p>
          <p class="item-date">
            <time datetime="2020-12-22T20:00:08.000Z" itemprop="datePublished">2020-12-23</time>
          </p>
        </div>
      </li>
      
      <li>
        
        <div class="item-inner">
          <p class="item-title">
            <a href="/2020/12/11/Redis%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF%EF%BC%88%E4%BA%94%EF%BC%89%E2%80%94%E2%80%94-%E9%9B%86%E7%BE%A4%E6%9E%B6%E6%9E%84/"
              class="title">Redis学习之路（五）—— 集群架构</a>
          </p>
          <p class="item-date">
            <time datetime="2020-12-11T00:02:55.000Z" itemprop="datePublished">2020-12-11</time>
          </p>
        </div>
      </li>
      
    </ul>
  </div>
</div>

    
  </div>
</aside>

  
  
<main class="main" role="main">
  <div class="content">
  <article id="post-Kafka官网翻译——起步" class="article article-type-post" itemscope
    itemtype="http://schema.org/BlogPosting">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" target="_blank" href="https://picsum.photos/1080/400" rel="gallery_cklj62mp2005cts028d2r9ghm noopener">
        <img src="https://picsum.photos/1080/400" style="border-radius: 8px;" itemprop="image">
      </a>
    
  </div>
</div>

    <div class="article-header">
      
      
  
    <h1 class="article-title" itemprop="name">
      Kafka官网翻译——起步
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2021/02/19/Kafka%E5%AE%98%E7%BD%91%E7%BF%BB%E8%AF%91%E2%80%94%E2%80%94%E8%B5%B7%E6%AD%A5/" class="article-date">
	  <time datetime="2021-02-19T03:18:08.000Z" itemprop="datePublished">2021年02月19日11时</time>
	</a>
</span>
        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link-link" href="/tags/Kafka/" rel="tag">Kafka</a>
  </span>


        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill" aria-hidden="true"></i>
	    <span id="busuanzi_container_page_pv">
			<span id="busuanzi_value_page_pv">0</span>
		</span>
	</span>

        

<span class="post-wordcount hidden-xs" itemprop="wordCount"><i
		class="icon icon-search"></i>&nbsp;字数统计:
	4.8k(字)</span>


<span class="post-readcount hidden-xs" itemprop="timeRequired"><i
		class="icon icon-clock"></i>&nbsp;阅读时长:
	17(分)</span>


        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/02/19/Kafka%E5%AE%98%E7%BD%91%E7%BF%BB%E8%AF%91%E2%80%94%E2%80%94%E8%B5%B7%E6%AD%A5/#comments"
            class="article-comment-link">评论</a></span>
      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
      <h1 id="1-起步"><a href="#1-起步" class="headerlink" title="1. 起步"></a>1. 起步</h1><h2 id="1-1-介绍"><a href="#1-1-介绍" class="headerlink" title="1.1 介绍"></a>1.1 介绍</h2><h3 id="什么是事件流"><a href="#什么是事件流" class="headerlink" title="什么是事件流"></a>什么是事件流</h3><p>事件流是人体中枢神经系统的数字等效形式。 它是“永远在线”世界的技术基础，在这个世界中，业务越来越多地由软件定义和自动化，并且软件的用户越来越多。</p>
<p>从技术上讲，事件流是一种以事件流的形式从事件源（例如数据库，传感器，移动设备，云服务和软件应用程序）实时捕获数据的实践。 持久存储这些事件流以供以后检索； 实时以及回顾性地处理，处理和响应事件流； 并根据需要将事件流路由到不同的目标技术。 事件流因此确保了数据的连续流和解释，以便正确的信息在正确的时间，正确的位置。</p>
<h3 id="事件流能做什么"><a href="#事件流能做什么" class="headerlink" title="事件流能做什么"></a>事件流能做什么</h3><p>事件流适用于众多行业和组织的各种用例。 它的许多示例包括：</p>
<ul>
<li>实时处理付款和金融交易，例如在证券交易所，银行和保险中。</li>
<li>实时跟踪和监视汽车，卡车，车队和货运，例如在物流和汽车行业。</li>
<li>连续捕获和分析来自IoT设备或其他设备（例如工厂和风电场）中的传感器数据。</li>
<li>收集并立即响应客户的交互和订单，例如在零售，酒店和旅游行业以及移动应用程序中。</li>
<li>监测患者的医院护理情况并预测病情变化，以确保在紧急情况下及时得到治疗。</li>
<li>连接，存储和提供公司不同部门产生的数据。</li>
<li>用作数据平台，事件驱动的体系结构和微服务的基础。</li>
</ul>
<h3 id="Kafka是一个事件流平台，有什么含义"><a href="#Kafka是一个事件流平台，有什么含义" class="headerlink" title="Kafka是一个事件流平台，有什么含义"></a>Kafka是一个事件流平台，有什么含义</h3><p>Kafka结合了三个关键功能，因此您可以使用一个经过战斗验证的解决方案来端到端实施事件流的用例：</p>
<ul>
<li>发布（写入）和订阅（读取）事件流，包括从其他系统连续导入/导出数据。</li>
<li>根据需要持久而可靠地存储事件流。</li>
<li>处理事件流的发生或追溯。</li>
</ul>
<p>所有这些功能都以分布式，高度可扩展，弹性，容错和安全的方式提供。 Kafka可以部署在裸机硬件，虚拟机和容器，本地以及云中。 您可以在自我管理Kafka环境与使用各种供应商提供的完全托管服务之间进行选择。</p>
<h3 id="概括说Kafka的工作"><a href="#概括说Kafka的工作" class="headerlink" title="概括说Kafka的工作"></a>概括说Kafka的工作</h3><p>Kafka是一个分布式系统，由通过高性能TCP网络协议进行通信的服务器和客户端组成。它可以部署在内部以及云环境中的裸机硬件，虚拟机和容器上。</p>
<p>服务器：Kafka作为一个或多个服务器的集群运行，可以跨越多个数据中心或云区域。其中一些服务器构成了存储层，称为代理。其他服务器运行Kafka Connect来连续导入和导出数据作为事件流，以将Kafka与现有系统集成在一起，例如关系数据库以及其他Kafka群集。为了实现关键任务用例，Kafka群集具有高度的可扩展性和容错能力：如果其任何服务器发生故障，其他服务器将接管其工作，以确保连续运行而不会丢失任何数据。</p>
<p>客户端：它们使您可以编写分布式应用程序和微服务，即使在网络问题或机器故障的情况下，它们也可以并行，大规模且以容错的方式读取，写入和处理事件流。 Kafka附带了一些这样的客户端，由Kafka社区提供的数十个客户端进行了扩充：客户端可用于Java和Scala，包括更高级的Kafka Streams库，Go，Python，C / C ++和许多其他编程语言以及REST API。</p>
<h3 id="主要概念和术语"><a href="#主要概念和术语" class="headerlink" title="主要概念和术语"></a>主要概念和术语</h3><p>Events记录了世界中或你的业务中“发生了什么事”的事实。在文档中也称为记录或消息。 当您向Kafka读取或写入数据时，您将以event的形式进行操作。 从概念上讲，event具有键，值，时间戳和可选的元数据标题。 这是一个示例事件：</p>
<blockquote>
<p>Event key: “Alice”</p>
<p>Event value: “Made a payment of $200 to Bob”</p>
<p>Event timestamp: “Jun. 25, 2020 at 2:06 p.m.”</p>
</blockquote>
<p>生产者是那些向Kafka发布（写入）事件的客户端应用程序，而消费者是那些订阅（读取和处理）这些事件的客户端应用程序。 在Kafka中，生产者和消费者之间完全脱钩且彼此不可知，这是实现Kafka众所周知的高可伸缩性的关键设计元素。 例如，生产者永远不需要等待消费者。 Kafka提供各种保证，例如能够一次准确地处理事件。</p>
<p>Events被组织并持久地存储在Topics中。 非常简化，Topic类似于文件系统中的文件夹，Event是该文件夹中的文件。 例如topic名可以是“payments”。 Kafka中的topic始终是多生产者和多消费者：一个topic可以有零个，一个或多个向其写入event的生产者，以及零个，一个或多个订阅这些event的消费者。 可以根据需要随时读取topic中的event，与传统的消息中间件不同，消费过的事件不会被删除。 相反，您可以通过按topic配置的设置，来定义Kafka将event保留多长时间，之后旧的event将被丢弃。 Kafka的性能相对于数据大小实际上是恒定的，因此长时间存储数据是完全可以的。</p>
<p>Topics是被分区的，这意味着topic分布在不同Kafka Brokers上的多个“buckets”中。数据的这种分布式放置对于可伸缩性非常重要，因为它允许客户端应用程序可以同时从多个Borker中读取数据，或者向多个Broker写入数据。当发布一个新event到topic时，实际上它会将其追加到其中一个topic分区。具有相同event key（例如，一个顾客或车辆ID）的事件将写入到同一分区，并且Kafka保证，单个给定topic分区的任何消费者都将始终以与写入时完全相同的顺序读取该分区的事件。</p>
<p><img src="https://kafka.apache.org/images/streams-and-tables-p1_p4.png"></p>
<blockquote>
<p>图：该示例topic具有四个分区P1-P4。两个不同的生产者通过网络彼此独立地发布新事件，写入到topic分区。 具有相同key（在图中由颜色表示）的事件被写入同一分区。注意，如果需要，两个生产者可以写入同一分区。</p>
</blockquote>
<p>为了使您的数据具有容错性和高可用性，可以在每个地理区域或数据中心之间备份每个topic，以便始终有多个broker具有数据副本，防止万一出错或者对brokers进行维护等等。 常见的生产设置是三个备份实例，即，您的数据将保持有三个副本。备份级别为topic分区。</p>
<p>该入门指南应该足够。 如果您有兴趣，文档的“设计”部分将详细介绍Kafka的各种概念。</p>
<h3 id="Kafka-APIs"><a href="#Kafka-APIs" class="headerlink" title="Kafka APIs"></a>Kafka APIs</h3><p>除了用于管理和管理任务的命令行工具外，Kafka还具有用于Java和Scala的五个核心API：</p>
<ul>
<li>Admin API，用于管理和检查topics，brokers和其他Kafka对象。</li>
<li>Producer API，用于将事件流发布（写入）到一个或多个Kafka topics。</li>
<li>Consumer API，订阅（读取）一个或多个topics并处理为其产生的事件流。</li>
<li>Kafka Streams API，用于实现流处理应用程序和微服务。它提供了更高级别的功能来处理事件流，包括转换，诸如聚合和联接之类的状态操作，窗口，基于事件时间的处理等等。从一个或多个topics读取输入，以便生成一个或多个topic的输出，从而有效地将输入流转换为输出流。</li>
<li>Kafka Connect API，可以构建和运行可重用的数据导入/导出连接器，这些连接器从外部系统和应用程序消费（读取）或生产（写入）事件流，以便它们可以与Kafka集成。例如，需要一个连接到关系型数据库（如PostgreSQL）的连接器，捕获数据库所有的更改到一组表中。然而，实际上，您通常不需要实现自己的连接器，因为Kafka社区已经提供了数百个随时可用的连接器。</li>
</ul>
<h3 id="从这到哪去"><a href="#从这到哪去" class="headerlink" title="从这到哪去"></a>从这到哪去</h3><ul>
<li>要获得有关Kafka的动手经验，请遵循<a target="_blank" rel="noopener" href="https://kafka.apache.org/quickstart">快速入门</a>。</li>
<li>要更详细地了解Kafka，请阅读文档。 您还可以选择<a target="_blank" rel="noopener" href="https://kafka.apache.org/books-and-papers">Kafka的书籍和学术论文</a>。</li>
<li>浏览<a target="_blank" rel="noopener" href="https://kafka.apache.org/powered-by">用例</a>，了解我们全球社区中的其他用户如何从Kafka中获得价值。</li>
<li>加入一个<a target="_blank" rel="noopener" href="https://kafka.apache.org/events">当地的Kafka聚会小组</a>，观看<a target="_blank" rel="noopener" href="https://kafka-summit.org/past-events/">Kafka峰会的演讲</a>，Kafka社区主要会议。</li>
</ul>
<h2 id="1-2-使用案例"><a href="#1-2-使用案例" class="headerlink" title="1.2 使用案例"></a>1.2 使用案例</h2><p>这是对Apache Kafka®的一些流行用例的描述。有关这些领域的概述，请参阅此<a target="_blank" rel="noopener" href="https://engineering.linkedin.com/distributed-systems/log-what-every-software-engineer-should-know-about-real-time-datas-unifying">博客文章</a>。</p>
<h3 id="消息"><a href="#消息" class="headerlink" title="消息"></a>消息</h3><p>Kafka可以很好地替代传统消息中间件。消息中间件的使用有多种原因（从数据生产者中分离处理，缓冲未处理的消息等）。与大多数消息系统相比，Kafka具有更好的吞吐量，内置的分区，备份和容错能力，这使其成为大规模消息处理应用程序的理想解决方案。<br>根据我们的经验，消息传递的使用通常吞吐量较低，但是可能需要较低的端到端延迟，并且通常取决于Kafka提供的强大的持久性保证。</p>
<p>在此领域中，Kafka可与传统消息系统例如如<a target="_blank" rel="noopener" href="http://activemq.apache.org/">ActiveMQ</a>或<a target="_blank" rel="noopener" href="https://www.rabbitmq.com/">RabbitMQ</a>相媲美。</p>
<h3 id="网站活动跟踪"><a href="#网站活动跟踪" class="headerlink" title="网站活动跟踪"></a>网站活动跟踪</h3><p>Kafka最初的用意是能够重建一个用户活动跟踪管道，作为一组实时的发布/订阅来源。 这意味着将网站活动（页面浏览，搜索或用户可能采取的其他操作）发布到中心主题，每种活动类型只有一个主题。 这些消息来源可用于一系列用例的订阅，包括实时处理，实时监控，以及加载到Hadoop或离线数据仓库系统中，进行离线处理和报告。<br>活动跟踪通常量很大，因为每个用户页面视图都会生成许多活动消息。</p>
<h3 id="指标"><a href="#指标" class="headerlink" title="指标"></a>指标</h3><p>Kafka通常用于操作监控数据。 这涉及到聚合来自分布式应用程序的统计信息，生成集中的操作数据提要。</p>
<h3 id="日志汇总"><a href="#日志汇总" class="headerlink" title="日志汇总"></a>日志汇总</h3><p>许多人使用Kafka代替日志聚合解决方案。日志聚合通常从服务器上收集物理日志文件，并将它们放在数据中心（例如文件服务器或HDFS）以进行处理。 Kafka抽取文件的详细信息，并提供一个更清晰的日志抽象数据或者事件数据作为消息流。 它提供了较低延迟的处理，并更容易的支持多个数据源和分布式数据消耗。 与以日志为中心的系统（例如Scribe或Flume）相比，Kafka具有同样出色的性能，由于备份提供了更强的耐用性保证，以及更低的端到端延迟。</p>
<h3 id="流处理"><a href="#流处理" class="headerlink" title="流处理"></a>流处理</h3><p>Kafka的许多用户在由多个阶段组成的处理管道中处理数据，其中原始输入数据从Kafka的topic中消费，然后进行汇总，增强或以其他方式转换为新topic，以供进一步使用或后续处理。 例如，用于推荐新闻文章的处理管道可能会从RSS来源中检索文章内容，并将其发布到“articles”主题中。 进一步的处理可能会使该内容规范化或者删除重复数据，并将清洗后的文章内容发布到新topic中；最后的处理阶段可能会向用户推荐此内容。 这样的处理管道基于单一的topic创建实时数据流图。 从0.10.0.0开始，Apache Kafka中提供了一个轻量但功能强大的流处理库，称为Kafka Streams，可以执行上述数据处理。 除了Kafka Streams，其他开源流处理工具还包括Apache Storm和Apache Samza。</p>
<h3 id="事件源"><a href="#事件源" class="headerlink" title="事件源"></a>事件源</h3><p>事件源是应用程序设计的一种样式，其中状态的更改用时间顺序的记录序列记录下来。Kafka对大量日志数据堆积的支持使它成为以这种方式构建应用程序的绝佳后端。</p>
<h3 id="提交日志"><a href="#提交日志" class="headerlink" title="提交日志"></a>提交日志</h3><p>Kafka可以用作分布式系统的一种外部提交日志。 该日志有助于在节点之间备份数据，并充当故障节点恢复其数据的重新同步机制。 Kafka中的日志压缩功能有助于支持此用法。 在这种用法中，Kafka类似于Apache BookKeeper项目。</p>
<h2 id="1-3-快速开始"><a href="#1-3-快速开始" class="headerlink" title="1.3 快速开始"></a>1.3 快速开始</h2><h3 id="步骤一：获取Kafka"><a href="#步骤一：获取Kafka" class="headerlink" title="步骤一：获取Kafka"></a>步骤一：获取Kafka</h3><p><a target="_blank" rel="noopener" href="https://www.apache.org/dyn/closer.cgi?path=/kafka/2.7.0/kafka_2.13-2.7.0.tgz">下载</a>最近的kafka发行版并且解压</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -O https://downloads.apache.org/kafka/2.7.0/kafka_2.13-2.7.0.tgz</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> tar -xzf kafka_2.13-2.7.0.tgz</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> kafka_2.13-2.7.0</span></span><br></pre></td></tr></table></figure>
<h3 id="步骤二：开始Kafka环境"><a href="#步骤二：开始Kafka环境" class="headerlink" title="步骤二：开始Kafka环境"></a>步骤二：开始Kafka环境</h3><p><em>备注: 你本地环境必须安装Java 8+</em></p>
<p>按照正确的顺序启动服务，执行以下命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Start the ZooKeeper service</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Note: Soon, ZooKeeper will no longer be required by Apache Kafka.</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> bin/zookeeper-server-start.sh config/zookeeper.properties</span></span><br></pre></td></tr></table></figure>
<p>打开另一个终端然后执行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Start the Kafka broker service</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> bin/kafka-server-start.sh config/server.properties</span></span><br></pre></td></tr></table></figure>
<p>一旦所有的服务都成功启动，kafka基本运行环境已经启动</p>
<h3 id="步骤三：创建一个topic存储event"><a href="#步骤三：创建一个topic存储event" class="headerlink" title="步骤三：创建一个topic存储event"></a>步骤三：创建一个topic存储event</h3><p>Kafka是一个分布式事件流平台，可让您跨多台机器读取，写入，存储和处理事件（在文档中也称为record或message）。</p>
<p>示例事件包括付款交易，移动电话的地理位置更新，运输订单，物联网设备或医疗设备的传感器测量等等。 这些事件被组织并存储在topic中。 非常简单，topic类似于文件系统中的文件夹，event是该文件夹中的文件。</p>
<p>因此，在编写第一个event之前，必须创建一个topic。 打开另一个终端并执行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> bin/kafka-topics.sh --create --topic quickstart-events --bootstrap-server localhost:9092</span></span><br></pre></td></tr></table></figure>
<p>Kafka的所有命令行工具都有其他选项：不带任何参数的kafka-topics.sh命令以显示使用情况信息。 例如，它还可以向您显示详细信息，例如topic的分区数：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> bin/kafka-topics.sh --describe --topic quickstart-events --bootstrap-server localhost:9092</span></span><br><span class="line">Topic:quickstart-events  PartitionCount:1    ReplicationFactor:1 Configs:</span><br><span class="line">    Topic: quickstart-events Partition: 0    Leader: 0   Replicas: 0 Isr: 0</span><br></pre></td></tr></table></figure>
<h3 id="步骤四：写入事件到topic中"><a href="#步骤四：写入事件到topic中" class="headerlink" title="步骤四：写入事件到topic中"></a>步骤四：写入事件到topic中</h3><p>Kafka客户端通过网络与Kafka broker进行通信，编写（或读取）事件。 一旦收到，broker将以持久和容错的方式存储事件，如果您需要，甚至可以永久存储。</p>
<p>运行控制台生产者客户端，将一些event写入您的topic。 默认情况下，您输入的每一行都会产生一个单独的事件写入该topic。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> bin/kafka-console-producer.sh --topic quickstart-events --bootstrap-server localhost:9092</span></span><br><span class="line">This is my first event</span><br><span class="line">This is my second event</span><br></pre></td></tr></table></figure>
<p>你可以随时使用 <code>Ctrl+C</code> 停止生产者客户端</p>
<h3 id="步骤五：读取事件"><a href="#步骤五：读取事件" class="headerlink" title="步骤五：读取事件"></a>步骤五：读取事件</h3><p>打开另一个终端，执行终端消费者客户端去读取你创建的事件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> bin/kafka-console-consumer.sh --topic quickstart-events --from-beginning --bootstrap-server localhost:9092</span></span><br><span class="line">This is my first event</span><br><span class="line">This is my second event</span><br></pre></td></tr></table></figure>
<p>你可以随时使用 <code>Ctrl+C</code> 停止消费者客户端</p>
<p>随时尝试：例如，切换回生产者终端（上一步）编写其他event，并查看event如何立即在您的消费者终端中显示。</p>
<p>因为事件被持久地存储在Kafka中，所以您可以根据需要任意多次地读取它们。您可以通过打开另一个终端会话并再次重新运行上一个命令来验证。</p>
<h3 id="步骤六：使用Kafka连接像事件流一样导入-导出数据"><a href="#步骤六：使用Kafka连接像事件流一样导入-导出数据" class="headerlink" title="步骤六：使用Kafka连接像事件流一样导入/导出数据"></a>步骤六：使用Kafka连接像事件流一样导入/导出数据</h3><p>在诸如关系数据库或传统消息系统之类的现有系统中，您可能拥有大量数据，以及已经使用这些系统的许多应用程序。 通过Kafka Connect，您可以将来自外部系统的数据连续地吸收到Kafka中，反之亦然。因此，将现有系统与Kafka集成非常容易。为了使此过程更加容易，Kafka有数百种此类连接器可供使用。</p>
<p>看一下Kafka Connect部分，了解更多有关如何连续将数据导入和导出Kafka的信息。</p>
<h3 id="步骤七：使用Kafka流处理事件"><a href="#步骤七：使用Kafka流处理事件" class="headerlink" title="步骤七：使用Kafka流处理事件"></a>步骤七：使用Kafka流处理事件</h3><p>一旦将数据作为事件存储在Kafka中，就可以使用Java / Scala的Kafka Streams客户端库处理数据。 它允许您实现关键任务实时应用程序和微服务，其中输入 和/或 输出数据存储在Kafka主题中。Kafka Streams结合了在客户端编写和部署标准Java和Scala应用程序的简便性以及Kafka服务器端集群技术的优势，使这些应用程序具有高度可伸缩性，弹性，容错性和分布式性。该库支持一次精确处理，有状态操作和聚合，窗口化，联接，基于事件时间的处理等等。</p>
<p>为了让您有一个初步的了解，以下是实现流行的<code>WordCount</code>算法的方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">KStream&lt;String, String&gt; textLines = builder.stream(<span class="string">&quot;quickstart-events&quot;</span>);</span><br><span class="line"></span><br><span class="line">KTable&lt;String, Long&gt; wordCounts = textLines</span><br><span class="line">            .flatMapValues(line -&gt; Arrays.asList(line.toLowerCase().split(<span class="string">&quot; &quot;</span>)))</span><br><span class="line">            .groupBy((keyIgnored, word) -&gt; word)</span><br><span class="line">            .count();</span><br><span class="line"></span><br><span class="line">wordCounts.toStream().to(<span class="string">&quot;output-topic&quot;</span>), Produced.with(Serdes.String(), Serdes.Long()));</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://kafka.apache.org/25/documentation/streams/quickstart">Kafka Streams 案例</a>和<a target="_blank" rel="noopener" href="https://kafka.apache.org/25/documentation/streams/tutorial">应用程序开发教程</a>演示了如何从头到尾编写和运行这种流式应用程序。</p>
<h3 id="步骤八：终止Kafka环境"><a href="#步骤八：终止Kafka环境" class="headerlink" title="步骤八：终止Kafka环境"></a>步骤八：终止Kafka环境</h3><p>既然您已开始快速入门，可以随时终止Kafka环境或继续练习。</p>
<p>如果尚未停止，请使用<code>Ctrl-C</code>停止生产者和消费者客户端。<br>使用<code>Ctrl-C</code>停止Kafka Broker。<br>最后，使用<code>Ctrl-C</code>停止ZooKeeper服务器。<br>如果您还想删除本地Kafka环境的任何数据，包括您在此过程中创建的所有event，请运行以下命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> rm -rf /tmp/kafka-logs /tmp/zookeeper</span></span><br></pre></td></tr></table></figure>
<h3 id="恭喜！"><a href="#恭喜！" class="headerlink" title="恭喜！"></a>恭喜！</h3><p>您已成功完成Apache Kafka快速入门。</p>
<p>要了解更多信息，我们建议执行以下后续步骤：</p>
<ul>
<li>通读简短的<a target="_blank" rel="noopener" href="https://kafka.apache.org/intro">简介</a>，以了解Kafka的工作原理，主要概念以及与其他技术的比较。 要更详细地了解Kafka，请转至文档。</li>
<li>浏览<a target="_blank" rel="noopener" href="https://kafka.apache.org/powered-by">用例</a>，了解我们全球社区中的其他用户如何从Kafka中获得价值。</li>
<li>加入<a target="_blank" rel="noopener" href="https://kafka.apache.org/events">当地的Kafka聚会小组</a>，观看Kafka社区主要会议，<a target="_blank" rel="noopener" href="https://kafka-summit.org/past-events/">Kafka峰会的演讲</a>。</li>
</ul>
<h2 id="1-4-生态"><a href="#1-4-生态" class="headerlink" title="1.4 生态"></a>1.4 生态</h2><p>在主发行版之外，有很多与Kafka集成的工具。<a target="_blank" rel="noopener" href="https://cwiki.apache.org/confluence/display/KAFKA/Ecosystem">生态页面</a>列出了许多此类资源，包括流处理系统，Hadoop集成，监视和部署工具。</p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="https://rabbit-mar.github.io/2021/02/19/Kafka%E5%AE%98%E7%BD%91%E7%BF%BB%E8%AF%91%E2%80%94%E2%80%94%E8%B5%B7%E6%AD%A5/" title="Kafka官网翻译——起步" target="_blank" rel="external">https://rabbit-mar.github.io/2021/02/19/Kafka%E5%AE%98%E7%BD%91%E7%BF%BB%E8%AF%91%E2%80%94%E2%80%94%E8%B5%B7%E6%AD%A5/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/Rabbit-Mar" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.jpg" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/Rabbit-Mar" target="_blank"><span class="text-dark">Marveal Rabbit</span><small class="ml-1x">Programming Lover &amp; Coder</small></a></h3>
        <div>热爱学习，探索新事物，对技术抱有追求；热爱挑战，不惧困难，精致人生；</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
  
  <section id="comments">
  	
    
  </section>


  
</div>
</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/Rabbit-Mar" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="https://gitee.com/marveal_admin" target="_blank" title="Gitee" data-toggle=tooltip data-placement=top><i class="icon icon-gitee"></i></a></li>
        
        <li><a href="https://blog.csdn.net/weixin_43260474" target="_blank" title="Code" data-toggle=tooltip data-placement=top><i class="icon icon-code"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
        	Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                TAGS: '标签',
                UNTITLED: '(未命名)',
            },
            ROOT_URL: '/',
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>

<script src="/js/insight.js"></script>




   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



   
    
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
  var gitment = new Gitment({
    id: 'Kafka官网翻译——起步',
    owner: 'Rabbit-Mar', // 可以是你的GitHub用户名，也可以是github id
    repo: 'rabbit-mar.github.io',
    oauth: {
      client_id: 'a05c4d867ec26c0a59d2',
      client_secret: '0bdcf90d06734d19c37969511ddc20e0835dbd0a',
    }
  })
  gitment.render('comments')
</script>








</body>
</html>